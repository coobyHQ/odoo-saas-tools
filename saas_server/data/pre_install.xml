<?xml version="1.0"?>
<odoo>
    <data noupdate="1">
        <!-- Use SaaS oauth provider record for root user -->
        <function model="res.users" name="write">
            <value eval="[ref('base.user_admin')]"/>
            <value eval="{
                'oauth_provider_id': ref('saas_server.saas_oauth_provider'),
                'oauth_uid': ref('base.user_admin'),
            }"/>
        </function>

        <!-- Use database uuid as client_id for Odoo oauth provider -->
        <function model="auth.oauth.provider" name="write">
            <value eval="[ref('saas_server.saas_oauth_provider')]"/>
            <value model="ir.config_parameter" eval="{
                'client_id': obj().env['ir.config_parameter'].sudo().get_param('database.uuid'),
            }"/>
        </function>
    </data>
</odoo>